<form ng-submit="save(editedUser)">
  <article class="profile">
    <header class="profile-header theme-black layout-row">
      <img class="profile-profileimage" ng-src="{{user.profileImageUrl}}">
      <hgroup class="profile-header-content">
        <h1 class="profile-name" ng-if="!editing">{{user.name}}</h1>
        <input class="profile-name" ng-if="editing" type="text" ng-model="editedUser.name">

        <div ng-if="editing">
          <input type="file" ng-file-select="onFileSelect($files)">
        </div>
      </hgroup>
    </header>

    <section class="profile__content">
      <p ng-if="!editing">
        {{user.bio}}
      </p>

      <textarea ng-if="editing" type="text" ng-model="editedUser.bio"></textarea>
    </section>

    <section ng-if="canSeeAddress" class="profile__address">
      <div ng-if="!editing">
        {{user.address}}
      </div>
      <div ng-if="editing">
        <textarea type="text" ng-model="editedUser.address"></textarea>
      </div>
    </section>

    <section ng-if="canSeeEmail" class="profile__email">
      <div ng-if="!editing">
        {{user.email}}
      </div>
      <div ng-if="editing">
        <textarea type="text" ng-model="editedUser.email"></textarea>
      </div>
    </section>

    <section ng-if="canSeePhone" class="profile__phone">
      <div ng-if="!editing">
        {{user.phone}}
      </div>
      <div ng-if="editing">
        <textarea type="text" ng-model="editedUser.phone"></textarea>
      </div>
    </section>

    <section ng-if="editable">
        Available as host:
        <input
          ng-if="!editing"
          type="checkbox"
          ng-model="user.isHost"
          disabled
          >
        <input
          ng-if="editing"
          type="checkbox"
          ng-model="editedUser.isHost"
          >
      </div>
    </section>

    <a class="profile-logout" ng-if="canLogout" href="#/logout"><i class="icon icon-account-logout"></i></a>

    <footer ng-if="editable">
      <div ng-if="error">{{error}}</div>
      <button type="button" ng-if="!editing" ng-click="edit()">Redigera</button>
      <button type="button" ng-if="editing" ng-click="cancel()">Cancel</button>
      <button type="submit" ng-if="editing">Spara</button>
    </footer>
    <footer ng-if="bookable">
      <div ng-if="booking">
        <div ng-if="bookingError">{{bookingError}}</div>
        <textarea ng-model="bookingMessage"></textarea>
        <button type="button" ng-click="book(bookingMessage)">Skicka</button>
        <button type="button" ng-click="hideBooking()">Avbryt</button>
      </div>
      <button type="button" ng-if="!booking" ng-click="showBooking()">Ans√∂k</button>
    </footer>
  </article>
</form>
